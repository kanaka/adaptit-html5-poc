<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset = UTF-8" />

    <link href="boxes.css" rel="stylesheet" type="text/css"/>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
    <script src="BlobBuilder.js"> </script>
    <script src="FileSaver.js"> </script>

    <script src="selectlist.js"></script>
    <script src="boxes.js"> </script>
    <script>
        function handle_load_url () {
            load_source_url($('#load-url')[0]);
        }
        function handle_load_file (evt) {
            var files = evt.target.files;
            if (files.length < 1) {
                console.error("handle_load_file called without file");
                return;
            }
            load_source_file(files[0]);
        }
        function handle_export_file () {
            export_file($("#export-file")[0].value);
        }
        function handle_import_file (evt) {
            var files = evt.target.files;
            if (files.length < 1) {
                console.error("handle_import_file called without file");
                return;
            }
            import_file(files[0]);
        }

        $(document).ready(function () {
            $('#url-btn')[0].onclick = handle_load_url;
            $('#file-btn')[0].onchange = handle_load_file;
            $('#export-btn')[0].onclick = handle_export_file;
            $('#import-btn')[0].onchange = handle_import_file;
        });
    </script>
</head>

<body>
    <div class="status-bar">
        Status Bar
    </div>

    <div class="menu">
        Github access token:
        <input id='token' type="text" value="">

        <br>
        Load source text
        <input id='url-btn' type="button" value="from URL:">
        <input id="load-url" type="text" value="verses.txt">

        <br>
        Load source text
        <input id='file-btn' type="file" name="files[]"/>

        <br>
        Import
        <input id='import-btn' type="file" name="files[]"/>

        <br>
        Export
        <input id="export-btn" type="button" value="Download">
        <input id="export-file" type="text" value="backup.json">

    </div>

    <div id="chapter" class="chapter">
    </div>

</body>

</html>
